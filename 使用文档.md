# Chart Rotator 图表轮播器 - 功能描述与使用文档

## 功能概述

Chart Rotator 是一个用于自动轮播切换多个图表/网页的 Chrome 扩展程序。该扩展允许用户添加多个网页 URL，并在它们之间以设定的时间间隔自动切换，特别适合需要定期监控多个仪表盘、图表或网页的用户。

## 主要功能

- **添加多个图表/网页**：可添加任意数量的网页 URL，并为每个 URL 指定一个标的名称
- **分组管理**：支持创建多个分组，设置分组频率，实现高频率分组优先显示
- **编辑 URL**：可以编辑已添加的 URL 的名称和地址，无需删除重新添加
- **自动轮播切换**：按设定的时间间隔自动在不同网页间切换
- **单标签页轮播**：轮播仅在启动它的标签页中进行，不影响其他标签页
- **可视化倒计时**：在当前页面显示剩余切换时间的悬浮窗口
- **手动控制**：支持开始/暂停轮播、手动切换到下一个、停止轮播
- **可调节时间间隔**：轮播间隔时间可在 5-3600 秒之间自定义
- **状态显示**：实时显示当前轮播状态和显示的图表信息
- **拖拽功能**：倒计时悬浮窗口支持拖拽定位和位置记忆

## 界面元素说明

### 弹出窗口

弹出窗口包含以下主要部分：

1. **标题栏**：显示扩展名称 "Chart Rotator"
2. **添加区域**：
   - 标的名称输入框：输入图表/网页的名称
   - URL 输入框：输入有效的图表/网页 URL
   - 分组选择下拉菜单：选择要将 URL 添加到哪个分组
   - 添加按钮：将输入的 URL 添加到列表中
3. **URL 列表区域**：
   - 显示已添加的所有 URL 及其名称
   - 每个 URL 项目右侧有编辑和删除按钮
4. **控制面板**：
   - 状态显示：显示当前显示的图表名称和分组信息
   - 轮播间隔设置：可调节轮播切换的时间间隔（秒）
   - 控制按钮：
     - 开始/暂停按钮：开始或暂停轮播
     - 下一个按钮：手动切换到下一个 URL
     - 停止按钮：停止轮播并重置状态
5. **设置链接**：打开设置页面，进行更详细的配置

### 设置页面

设置页面提供更多高级功能：

1. **URL 管理**：
   - 显示所有添加的 URL 及其所属分组
   - 提供编辑和删除功能
2. **分组管理**：
   - 创建新分组并设置显示频率
   - 编辑现有分组的名称和频率
   - 删除不需要的分组
   - 调整分组中的 URL 顺序

### 悬浮倒计时窗口

在轮播过程中，当前页面会显示一个悬浮窗口，包含：
- 倒计时显示：显示距离下一次切换的剩余时间
- 当前 URL 信息：显示当前查看的 URL 名称和所属分组
- 状态指示：显示当前轮播状态（轮播中、已暂停、加载中）

## 使用说明

### 安装扩展

1. 从 Chrome 网上应用店安装 Chart Rotator 扩展
2. 安装后，扩展图标将出现在 Chrome 工具栏中

### 基本操作流程

1. **添加图表/网页**：
   - 点击 Chrome 工具栏中的 Chart Rotator 图标打开弹出窗口
   - 在"标的名称"输入框中输入一个易于识别的名称
   - 在 URL 输入框中输入有效的网页 URL
   - 从分组下拉菜单中选择一个分组（默认为"默认组"）
   - 点击"添加"按钮将其添加到列表中
   - 重复上述步骤添加多个 URL

2. **设置轮播间隔**：
   - 在"轮播间隔(秒)"输入框中设置期望的时间间隔
   - 有效范围为 5-3600 秒（5 秒到 1 小时）

3. **开始轮播**：
   - 点击"开始"按钮启动轮播
   - 扩展将在当前标签页打开第一个 URL，并在设定的时间间隔后切换到下一个
   - 在当前页面上将显示倒计时悬浮窗口

4. **控制轮播**：
   - 暂停/恢复：点击"暂停"按钮暂停轮播，再次点击恢复
   - 手动切换：点击"下一个"按钮立即切换到列表中的下一个 URL
   - 停止轮播：点击"停止"按钮完全停止轮播并重置状态

5. **管理 URL 列表**：
   - 编辑：点击 URL 项目右侧的编辑按钮修改名称或地址
   - 删除：点击 URL 项目右侧的"×"按钮删除该 URL
   - 查看状态：在控制面板顶部可以看到当前显示的 URL 名称和分组

### 分组管理

1. **创建分组**：
   - 点击设置页面中的"分组管理"
   - 输入分组名称
   - 设置显示频率（分钟）
     - 0 表示连续轮播（最低优先级）
     - 其他值表示该分组的 URL 至少每隔多少分钟显示一次
   - 点击"添加分组"按钮创建新分组

2. **编辑分组**：
   - 点击分组右侧的编辑按钮
   - 修改分组名称或显示频率
   - 点击保存

3. **删除分组**：
   - 点击分组右侧的删除按钮
   - 确认删除（注意：删除分组不会删除其中的 URL，它们将被移动到默认组）

4. **分组优先级**：
   - 频率值越小的分组优先级越高（例如30分钟比60分钟优先级高）
   - 连续轮播的分组（频率为0）具有最低优先级
   - 高优先级分组可以在当前 URL 播放完成后"插队"显示

### 编辑 URL

1. **编辑现有 URL**：
   - 点击 URL 项目右侧的编辑按钮
   - 在弹出的对话框中修改名称和/或地址
   - 点击"保存"按钮应用更改

### 悬浮窗口操作

- **移动位置**：可通过鼠标拖拽悬浮窗口到屏幕任意位置
- **位置记忆**：扩展会记住悬浮窗口的位置，即使刷新页面也会保持在同一位置

## 单标签页轮播特性

- 轮播仅在启动它的标签页中进行，不会影响其他标签页
- 如果关闭轮播标签页，轮播将自动停止
- 同一浏览器中可以在不同标签页启动不同的轮播设置
- 轮播状态信息（倒计时、当前 URL 信息）仅在轮播标签页中显示

## 状态指示

### 扩展图标状态

- **▶ (蓝色背景)**：轮播正在进行中
- **❚❚ (橙色背景)**：轮播已暂停
- **无标记**：轮播已停止

### 悬浮窗口状态

- **还剩 XX 秒**（蓝色）：正在轮播，显示距下一次切换的秒数和当前 URL 信息
- **加载中...**（蓝色）：页面正在加载
- **已暂停**（橙色）：轮播已暂停

## 注意事项

1. 至少需要添加一个有效 URL 才能开始轮播
2. 如果删除所有 URL，轮播将自动停止
3. URL 必须是有效格式，否则将无法添加
4. 切换页面时可能需要一定时间加载，此时会显示"加载中..."
5. 轮播状态会在浏览器关闭后保存，下次打开时将恢复之前的状态
6. 悬浮窗口位置会自动调整以确保在可视区域内
7. 轮播仅在启动它的标签页中进行，关闭该标签页将停止轮播
8. 优先级较高的分组可能会"插队"，导致连续轮播组的顺序暂时中断

## 技术支持

如有任何问题或建议，请通过以下方式联系我们：
- GitHub 项目页：https://github.com/10000090/chart-rotator
- 提交问题：https://github.com/10000090/chart-rotator/issues

祝您使用愉快！
